{% extends 'layout.html' %}

{% load static %}
{% load crispy_forms_tags %}

{% block title %}Edit Profile{% endblock %}

{% block head %}
  <link rel="stylesheet" href="{% static "css/cropper.min.css" %}">
  <link rel="stylesheet" href="{% static "css/cropper-style.css" %}">
{% endblock %}

{% block content %}
  <h1>Crop Your Avatar</h1>
  <form method="POST" enctype="multipart/form-data">
    {% csrf_token %}
    {{ crop_avatar_form }}


    <div class="crop-box-square my-3">
      <img id="image" src="{{ user.userprofile.avatar.url }}">
    </div>
    <button class="btn btn-dark" type="button" onclick="cropper.rotate(-90);"><i data-feather="corner-left-down"></i></button>
    <button class="btn btn-dark" type="button" onclick="cropper.rotate(90);"><i data-feather="corner-right-down"></i></button>
    <button class="btn btn-secondary" type="button" aria-pressed="false" id="flipToggle"><i data-feather="arrow-left"></i><i data-feather="arrow-right"></i></button>
    <button class="btn btn-dark" type="submit">Create New Avatar</button>

  </form>

{% endblock %}

{% block js %}
  <script src="{% static "js/cropper.js" %}" type="text/javascript" charset="utf-8"></script>
  <script src="{% static "js/crop_avatar.js" %}" type="text/javascript" charset="utf-8"></script>
{% endblock %}
